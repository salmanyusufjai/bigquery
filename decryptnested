WITH decrypted_data AS (
  SELECT
    t.*,
    latest,
    mainf.decryption_key,
    ARRAY(
      SELECT AS STRUCT
        key,
        CASE
          WHEN key = 'f1' THEN DECRYPT_STRING(value, mainf.decryption_key)
          ELSE value
        END AS value
      FROM UNNEST(REGEXP_EXTRACT_ALL(TO_JSON_STRING(latest.rawfields), r'"([^"]+)":\s*"([^"]*)"')) AS kv(key, value)
    ) AS decrypted_rawfields
  FROM
    `your_dataset.your_table` t,
    UNNEST(account.latest) AS latest
)
SELECT
  *
FROM
  decrypted_data;
